{"map":"{\"version\":3,\"sources\":[\"static/js/main.3e7b01a7.chunk.js\"],\"names\":[\"this\",\"push\",\"16\",\"module\",\"exports\",\"__webpack_require__\",\"21\",\"23\",\"40\",\"__webpack_exports__\",\"r\",\"react\",\"react_default\",\"n\",\"react_dom\",\"react_dom_default\",\"classCallCheck\",\"createClass\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"assertThisInitialized\",\"inherits\",\"lodash\",\"lodash_default\",\"src_subviews_RouteSelect\",\"_React$Component\",\"RouteSelect\",\"props\",\"_this\",\"Object\",\"call\",\"state\",\"busroute\",\"buses\",\"selectedRoute\",\"onClick\",\"bind\",\"key\",\"value\",\"_this2\",\"length\",\"fetch\",\"then\",\"res\",\"json\",\"formatBuses\",\"event\",\"preventDefault\",\"selectRoute\",\"target\",\"outerText\",\"classList\",\"remove\",\"add\",\"setState\",\"_this3\",\"busRoutes\",\"a\",\"sortBy\",\"uniqBy\",\"bus\",\"parseInt\",\"route\",\"fetchBuses\",\"createElement\",\"className\",\"tabindex\",\"map\",\"busRoute\",\"toString\",\"String\",\"Component\",\"dist\",\"MapView_MapView\",\"MapView\",\"_props\",\"onMarkerClick\",\"marker\",\"e\",\"selectedBus\",\"activeMarker\",\"showingInfoWindow\",\"onMapClicked\",\"google\",\"zoom\",\"style\",\"height\",\"initialCenter\",\"lat\",\"lng\",\"position\",\"lon\",\"name\",\"busInfoString\",\"visible\",\"subviews_MapView\",\"apiKey\",\"lib\",\"lib_default\",\"styles\",\"width\",\"src_MainView\",\"MainView\",\"allBuses\",\"selectedBuses\",\"unfilteredBusData\",\"filteredBusData\",\"unfilteredBusDatum\",\"timepoint\",\"busNumber\",\"filter\",\"hAlignContent\",\"src_App\",\"Boolean\",\"window\",\"location\",\"hostname\",\"match\",\"render\",\"document\",\"getElementById\",\"navigator\",\"serviceWorker\",\"ready\",\"registration\",\"unregister\"],\"mappings\":\"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\"}","code":"(this.webpackJsonppandora=this.webpackJsonppandora||[]).push([[0],{16:function(e,t,n){e.exports=n(40)},21:function(e,t,n){},23:function(e,t,n){},40:function(e,t,n){\"use strict\";n.r(t);var s=n(0),a=n.n(s),i=n(9),o=n.n(i),r=(n(21),n(3)),l=n(4),c=n(6),u=n(5),h=n(1),d=n(7),m=n(12),b=n.n(m),f=(n(23),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={busroute:\"\",buses:e.buses,selectedRoute:null},n.onClick=n.onClick.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:\"fetchBuses\",value:function(){var e=this;this.state.buses.length||fetch(\"http://developer.itsmarta.com/BRDRestService/RestBusRealTimeService/GetAllBus\").then((function(e){return e.json()})).then((function(t){return e.props.formatBuses(t)}))}},{key:\"onClick\",value:function(e){e.preventDefault(),this.props.selectRoute(e.target.outerText),this.state.selectedRoute&&this.state.selectedRoute.classList.remove(\"selectedRoute\"),e.target.classList.add(\"selectedRoute\"),this.setState({selectedRoute:e.target})}},{key:\"render\",value:function(){var e=this,t=[];return this.props.buses.length?t=b.a.sortBy(b.a.uniqBy(this.props.buses,\"route\"),(function(e){return parseInt(e.route,10)})):this.fetchBuses(),a.a.createElement(\"div\",{className:\"listView\"},a.a.createElement(\"h3\",{className:\"listHeader\"},\"Select Route\"),a.a.createElement(\"div\",{className:\"scrollView\"},a.a.createElement(\"ul\",{value:\"all\",onClick:this.onClick,className:\"busRoute\",tabindex:\"1\"},\"All\"),t.map((function(t){return a.a.createElement(\"ul\",{key:t.route.toString(),onClick:e.onClick,className:\"busRoute\",tabindex:\"1\"},String(t.route))}))))}}]),t}(a.a.Component)),p=n(10),k=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onMarkerClick=function(e,t,s){n.setState({selectedBus:e,activeMarker:t,showingInfoWindow:!0})},n.onMapClicked=function(){n.state.showingInfoWindow&&n.setState({showingInfoWindow:!1,activeMarker:null})},n.state={selectedBus:null,activeMarker:null,showingInfoWindow:!1},n.onMarkerClick=n.onMarkerClick.bind(Object(h.a)(n)),n.onMapClicked=n.onMapClicked.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:\"busInfoString\",value:function(e){return\"Bus number \"+e.busNumber+\" is currently at or approaching \"+e.timepoint}},{key:\"render\",value:function(){var e=this;return a.a.createElement(p.Map,{google:this.props.google,zoom:10,style:{height:\"100vh\"},initialCenter:{lat:33.749,lng:-84.388},onClick:this.onMapClicked},this.props.buses.map((function(t){return a.a.createElement(p.Marker,{position:{lat:t.lat,lng:t.lon},name:e.busInfoString(t),onClick:e.onMarkerClick})})),a.a.createElement(p.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow},a.a.createElement(\"div\",null,a.a.createElement(\"h4\",null,this.state.selectedBus?this.state.selectedBus.name:\"\"))))}}]),t}(a.a.Component),v=Object(p.GoogleApiWrapper)({apiKey:\"AIzaSyB_Z9lTIAzbW2VBkebVJWWjGgTvJZLQk8o\"})(k),B=(n(38),n(15)),g=n.n(B),E={width:\"400px\",height:\"400px\"},O=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={allBuses:[],selectedBuses:[]},n.selectRoute=n.selectRoute.bind(Object(h.a)(n)),n.formatBuses=n.formatBuses.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:\"formatBuses\",value:function(e){var t=e.map((function(e){return{route:e.ROUTE,lat:e.LATITUDE,lon:e.LONGITUDE,timepoint:e.TIMEPOINT,busNumber:e.VEHICLE}}));this.setState({allBuses:t,selectedBuses:t})}},{key:\"selectRoute\",value:function(e){if(\"All\"===e)this.setState({selectedBuses:this.state.allBuses});else{var t=this.state.allBuses.filter((function(t){return t.route===e}));this.setState({selectedBuses:t})}}},{key:\"render\",value:function(){return a.a.createElement(\"div\",{style:E},a.a.createElement(g.a,{hAlignContent:\"left\"},a.a.createElement(f,{selectRoute:this.selectRoute,formatBuses:this.formatBuses,buses:this.state.allBuses}),a.a.createElement(\"div\",null,a.a.createElement(v,{buses:this.state.selectedBuses}))))}}]),t}(a.a.Component);var j=function(){return a.a.createElement(O,null)};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(j,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);","extractedComments":[]}